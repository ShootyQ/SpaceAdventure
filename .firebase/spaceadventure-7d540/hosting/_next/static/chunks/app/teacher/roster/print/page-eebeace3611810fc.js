(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[762],{9025:function(e,a,t){Promise.resolve().then(t.bind(t,3592))},3592:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var s=t(3827),n=t(9102),r=t.n(n),c=t(4090),l=t(8121),i=t(4499),o=t(6678),d=t(5802),u=t(1657),g=t(3879),m=t(3915),p=t(8792),h=t(7907);function v(){let{user:e,userData:a}=(0,o.useAuth)(),[t,n]=(0,c.useState)([]),[v,f]=(0,c.useState)(!0);if((0,h.useRouter)(),(0,c.useEffect)(()=>{(async()=>{if(e){f(!0);try{let a=(0,l.IO)((0,l.hJ)(i.db,"users"),(0,l.ar)("role","==","student"),(0,l.ar)("teacherId","==",e.uid)),t=(await (0,l.PL)(a)).docs.map(e=>({uid:e.id,...e.data()}));t.sort((e,a)=>(e.displayName||"").localeCompare(a.displayName||"")),n(t)}catch(e){console.error("Error fetching roster:",e)}f(!1)}})()},[e]),v)return(0,s.jsx)("div",{className:"p-10 text-white",children:"Loading credentials..."});let b=[];for(let e=0;e<t.length;e+=4)b.push(t.slice(e,e+4));return(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1 min-h-screen bg-white text-black p-8 font-mono",children:[(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1 print:hidden mb-8 flex justify-between items-center bg-gray-100 p-4 rounded-lg border border-gray-300",children:[(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1 flex items-center gap-4",children:[(0,s.jsxs)(p.default,{href:"/teacher/roster",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[(0,s.jsx)(g.Z,{size:20})," Back to Roster"]}),(0,s.jsx)("h1",{className:"jsx-3acf293968c368c1 text-xl font-bold",children:"Printable Credentials"})]}),(0,s.jsxs)("button",{onClick:()=>window.print(),className:"jsx-3acf293968c368c1 flex items-center gap-2 bg-black text-white px-6 py-2 rounded font-bold hover:bg-gray-800 transition-colors",children:[(0,s.jsx)(m.Z,{size:20})," Print Cards"]})]}),b.map((e,t)=>(0,s.jsx)("div",{className:"jsx-3acf293968c368c1 break-after-page page-break-always mb-8 last:mb-0",children:(0,s.jsx)("div",{className:"jsx-3acf293968c368c1 grid grid-cols-2 gap-8 h-[9.5in] content-start",children:e.map(e=>{var t;return(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1 border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col relative h-[4.5in] break-inside-avoid",children:[(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1 flex justify-between items-start mb-6 border-b border-gray-200 pb-4",children:[(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1",children:[(0,s.jsx)("h2",{className:"jsx-3acf293968c368c1 text-sm text-gray-500 uppercase tracking-widest font-bold",children:"Class ID"}),(0,s.jsx)("div",{className:"jsx-3acf293968c368c1 text-2xl font-black text-gray-800",children:e.classCode||(null==a?void 0:a.classCode)||"N/A"})]}),(0,s.jsx)("img",{src:(0,u.K)("/images/logo.png"),alt:"Logo",className:"jsx-3acf293968c368c1 h-8 opacity-50"})]}),(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1 flex-1 flex flex-col items-center justify-center gap-6",children:[(0,s.jsx)("div",{className:"jsx-3acf293968c368c1 w-32 h-32 rounded-full border-4 border-gray-100 overflow-hidden relative bg-gray-50",children:(0,s.jsx)(d.Yt,{userData:e,className:"w-full h-full scale-110 translate-y-2"})}),(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1 text-center w-full space-y-4",children:[(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1",children:[(0,s.jsx)("div",{className:"jsx-3acf293968c368c1 text-xs text-gray-400 uppercase tracking-wide font-bold mb-1",children:"Cadet Name"}),(0,s.jsx)("div",{className:"jsx-3acf293968c368c1 text-xl font-bold",children:e.displayName})]}),(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1 bg-gray-50 p-4 rounded-lg border border-gray-200 text-left space-y-3 w-full max-w-xs mx-auto",children:[(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1",children:[(0,s.jsx)("span",{className:"jsx-3acf293968c368c1 text-xs text-gray-400 uppercase font-bold block",children:"Username"}),(0,s.jsx)("span",{className:"jsx-3acf293968c368c1 font-mono font-bold text-lg",children:e.username||(null===(t=e.email)||void 0===t?void 0:t.split("@")[0])||"_______"})]}),(0,s.jsxs)("div",{className:"jsx-3acf293968c368c1",children:[(0,s.jsx)("span",{className:"jsx-3acf293968c368c1 text-xs text-gray-400 uppercase font-bold block",children:"Password"}),(0,s.jsx)("span",{className:"jsx-3acf293968c368c1 font-mono font-bold text-lg",children:e.password||"______________"})]})]})]})]}),(0,s.jsx)("div",{className:"jsx-3acf293968c368c1 mt-auto pt-4 text-center text-[10px] text-gray-400 uppercase tracking-widest border-t border-gray-100",children:"Official Space Adventure Credentials"})]},e.uid)})})},t)),(0,s.jsx)(r(),{id:"3acf293968c368c1",children:"@media print{@page{margin:.5in;size:portrait}body{background:white}.print\\\\:hidden{display:none!important}.page-break-always{page-break-after:always}.break-after-page{page-break-after:always;break-after:page}}"})]})}},5802:function(e,a,t){"use strict";t.d(a,{Cn:function(){return l},Ic:function(){return c},W$:function(){return r},Yt:function(){return i}});var s=t(3827),n=t(1657);let r=[{id:"bunny",name:"Space Bunny",src:"/images/avatar/spacebunny.png"},{id:"cat",name:"Cosmic Cat",src:"/images/avatar/spacecat.png"},{id:"raccoon",name:"Rocket Raccoon",src:"/images/avatar/spaceraccoon.png"},{id:"otter",name:"Orbit Otter",src:"/images/avatar/spaceotter.png"},{id:"pup",name:"Pluto Pup",src:"/images/avatar/spacepup.png"},{id:"hamster",name:"Hyper Hamster",src:"/images/avatar/spacehamster.png"},{id:"owl",name:"Omega Owl",src:"/images/avatar/spaceowl.png"},{id:"penguin",name:"Power Penguin",src:"/images/avatar/spacepenguin.png"},{id:"turtle",name:"Turbo Turtle",src:"/images/avatar/spaceturtle.png"}],c=[{id:"p1",name:"Cadet Blue",config:{hue:0,skinHue:200,bgHue:240,bgSat:60,bgLight:50,activeHat:"none",avatarId:"bunny"}},{id:"p2",name:"Crimson Guard",config:{hue:350,skinHue:0,bgHue:0,bgSat:70,bgLight:40,activeHat:"none",avatarId:"cat"}},{id:"p3",name:"Forest Ranger",config:{hue:120,skinHue:100,bgHue:120,bgSat:50,bgLight:60,activeHat:"none",avatarId:"raccoon"}},{id:"p4",name:"Solar Pilot",config:{hue:45,skinHue:60,bgHue:40,bgSat:90,bgLight:70,activeHat:"none",avatarId:"otter"}},{id:"p5",name:"Void Walker",config:{hue:270,skinHue:260,bgHue:280,bgSat:40,bgLight:20,activeHat:"none",avatarId:"pup"}},{id:"p6",name:"Neon Scout",config:{hue:180,skinHue:300,bgHue:320,bgSat:100,bgLight:50,activeHat:"none",avatarId:"cat"}},{id:"p7",name:"Rusty Mechanic",config:{hue:25,skinHue:30,bgHue:15,bgSat:50,bgLight:40,activeHat:"none",avatarId:"raccoon"}},{id:"p8",name:"Ice Specialist",config:{hue:190,skinHue:180,bgHue:200,bgSat:70,bgLight:90,activeHat:"none",avatarId:"bunny"}}],l=[{id:"none",name:"No Hat",src:"",style:""},{id:"hat1",name:"Helmet",src:"/images/hats/helmet1.png",style:"scale-[2.5] translate-y-[45%]"},{id:"hat2",name:"Fedora",src:"/images/hats/hat2.png",style:"scale-[0.9] -translate-y-[40%]"},{id:"hat3",name:"Top Hat",src:"/images/hats/tophat.png",style:"scale-[0.9] -translate-y-[40%]"},{id:"hat4",name:"Cowboy Hat",src:"/images/hats/cowboyhat.png",style:"scale-[0.9] -translate-y-[40%]"},{id:"hat5",name:"Dungan Doves Cap",src:"/images/hats/dungandoves.png",style:"scale-[0.9] -translate-y-[40%]"}],i=e=>{var a,t,c,i,o,d,u,g,m,p,h,v,f,b,x,y,j;let{userData:w,hue:N,skinHue:k,bgHue:H,bgSat:C,bgLight:S,hat:I,avatarId:_,className:L=""}=e,P=null!==(m=null!=N?N:null==w?void 0:null===(a=w.avatar)||void 0===a?void 0:a.hue)&&void 0!==m?m:0,R=null!==(p=null!=k?k:null==w?void 0:null===(t=w.avatar)||void 0===t?void 0:t.skinHue)&&void 0!==p?p:0,A=null!==(h=null!=H?H:null==w?void 0:null===(c=w.avatar)||void 0===c?void 0:c.bgHue)&&void 0!==h?h:260,O=null!==(v=null!=C?C:null==w?void 0:null===(i=w.avatar)||void 0===i?void 0:i.bgSat)&&void 0!==v?v:50,D=null!==(f=null!=S?S:null==w?void 0:null===(o=w.avatar)||void 0===o?void 0:o.bgLight)&&void 0!==f?f:20,E=null!==(b=null!=_?_:null==w?void 0:null===(d=w.avatar)||void 0===d?void 0:d.avatarId)&&void 0!==b?b:"bunny",F=r.find(e=>e.id===E)||r[0],K=(null==F?void 0:F.src)||"/images/avatar/spacebunny.png",U=null!==(j=null!==(y=null!==(x=null!=I?I:null==w?void 0:w.activeHat)&&void 0!==x?x:null==w?void 0:null===(u=w.avatar)||void 0===u?void 0:u.activeHat)&&void 0!==y?y:null==w?void 0:null===(g=w.avatar)||void 0===g?void 0:g.hat)&&void 0!==j?j:"none",z=l.find(e=>e.id===U),B=null==z?void 0:z.src,M=(null==z?void 0:z.style)||"scale-100";return(0,s.jsxs)("div",{className:"relative ".concat(L),style:{backgroundColor:"hsl(".concat(A,", ").concat(O,"%, ").concat(D,"%)")},children:[(0,s.jsx)("div",{className:"absolute inset-0 z-0",style:{backgroundColor:"hsl(".concat(R,", 70%, 50%)"),maskImage:"url(".concat((0,n.K)(K),")"),WebkitMaskImage:"url(".concat((0,n.K)(K),")"),maskSize:"cover"}}),(0,s.jsx)("img",{src:(0,n.K)(K),alt:"Avatar",className:"w-full h-full object-cover relative z-10",style:{filter:"hue-rotate(".concat(P,"deg)")}}),B&&(0,s.jsx)("img",{src:(0,n.K)(B),alt:"Accessory",className:"absolute inset-0 z-20 w-full h-full object-cover pointer-events-none transition-transform ".concat(M),onError:e=>console.error("Error loading hat:",B,(0,n.K)(B))})]})}},6678:function(e,a,t){"use strict";t.r(a),t.d(a,{AuthProvider:function(){return u},useAuth:function(){return g}});var s=t(3827),n=t(4090),r=t(7065),c=t(8121),l=t(4499),i=t(7907),o=t(1657);let d=(0,n.createContext)({});function u(e){let{children:a}=e,[t,u]=(0,n.useState)(null),[g,m]=(0,n.useState)(null),[p,h]=(0,n.useState)(!0),v=(0,i.useRouter)();(0,n.useEffect)(()=>{let e=(0,r.Aj)(l.I8,async e=>{if(u(e),e)try{let t=(0,c.JU)(l.db,"users",e.uid),s=await (0,c.QT)(t);if(s.exists()){let a=s.data(),n="andrewpcarlson85@gmail.com"===e.email,r={};if(n&&"teacher"!==a.role&&(console.log("Fixing Admin Role for Legacy User"),a.role="teacher",r.role="teacher"),"teacher"===a.role&&!a.classCode){console.log("Generating Class Code for existing teacher");let e=(0,o.a)();a.classCode=e,r.classCode=e}if(Object.keys(r).length>0)try{await (0,c.pl)(t,r,{merge:!0})}catch(e){console.warn("Could not update user profile in DB",e)}m(a)}else{var a;e.email;let s={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,role:"teacher",classCode:(0,o.a)(),status:"active",subscriptionStatus:"trial",schoolName:"",location:"earth",spaceship:{name:"SS "+((null===(a=e.displayName)||void 0===a?void 0:a.split(" ")[0])||"Voyager"),color:"text-blue-400",type:"scout",speed:1}};await (0,c.pl)(t,s),m(s)}}catch(a){console.error("Error fetching user data",a),"andrewpcarlson85@gmail.com"===e.email&&(console.log("Using Fallback Admin Profile due to DB error"),m({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,role:"teacher",status:"active",location:"earth",xp:9999,spaceship:{name:"SS Command (Fallback)",color:"text-yellow-400",type:"fighter",speed:2}}))}else m(null);h(!1)});return()=>e()},[]);let f=async()=>{try{await (0,r.rh)(l.I8,l.Vv)}catch(e){console.error("Login failed",e)}},b=async(e,a)=>{try{await (0,r.e5)(l.I8,e,a)}catch(e){throw console.error("Student Login Failed",e),e}},x=async()=>{await (0,r.w7)(l.I8),m(null),v.push("/")};return(0,s.jsx)(d.Provider,{value:{user:t,userData:g,loading:p,signInWithGoogle:f,signInStudent:b,logout:x},children:a})}let g=()=>(0,n.useContext)(d)},4499:function(e,a,t){"use strict";t.d(a,{I8:function(){return d},Vv:function(){return u},db:function(){return o},qe:function(){return l}});var s=t(6142),n=t(8121),r=t(7065),c=t(3493);let l={apiKey:"AIzaSyDVHiiCHkP-RFOI26cIrD_OijLnw1r3B8Q",authDomain:"spaceadventure-7d540.firebaseapp.com",projectId:"spaceadventure-7d540",storageBucket:"spaceadventure-7d540.firebasestorage.app",messagingSenderId:"546441300465",appId:"1:546441300465:web:28ae387d2bdbb8011a1c50",measurementId:"G-8R9PYL00XH"},i=(0,s.C6)().length>0?(0,s.Mq)():(0,s.ZF)(l),o=(0,n.ad)(i),d=(0,r.v0)(i),u=new r.hJ;(0,c.Gb)().then(e=>{e&&(0,c.IH)(i)})},1657:function(e,a,t){"use strict";t.d(a,{K:function(){return s},a:function(){return n}});let s=e=>{let a=e.startsWith("/")?e:"/".concat(e);return window.location.hostname.includes("github.io")?"https://shootyq.github.io/SpaceAdventure".concat(a):"".concat("").concat(a)},n=()=>{let e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",a="";for(let t=0;t<6;t++)a+=e.charAt(Math.floor(Math.random()*e.length));return a}}},function(e){e.O(0,[358,38,911,250,672,971,69,744],function(){return e(e.s=9025)}),_N_E=e.O()}]);