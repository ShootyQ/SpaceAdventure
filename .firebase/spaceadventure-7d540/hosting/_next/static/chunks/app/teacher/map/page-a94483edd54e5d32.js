(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[446],{86:function(e,t,s){Promise.resolve().then(s.bind(s,7397))},7397:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var i=s(3827),n=s(7962),a=s(8792),o=s(3879),r=s(4090),l=s(9496),c=s(2235),d=s(9259),h=s(7805),u=s(8745),x=s(8371),p=s(8121),m=s(4499),b=s(6678);function f(){let{user:e}=(0,b.useAuth)(),[t,s]=(0,r.useState)(!1),[n,a]=(0,r.useState)(0),[o,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{e&&(async()=>{let t=(0,p.JU)(m.db,"users/".concat(e.uid,"/settings/tutorial")),i=await (0,p.QT)(t);i.exists()&&i.data().hasSeenMap||setTimeout(()=>s(!0),1500)})()},[e]),(0,r.useEffect)(()=>{if(!t)return;let e=()=>{let e=g[n];if(e.targetId){let t=document.getElementById(e.targetId);t?f(t.getBoundingClientRect()):f(null)}else f(null)},s=g[n];if(s.targetId){let t=document.getElementById(s.targetId);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(e,500))}else f(null);return e(),window.addEventListener("resize",e),window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e,!0)}},[n,t]);let w=async()=>{if(e){s(!1);try{await (0,p.pl)((0,p.JU)(m.db,"users/".concat(e.uid,"/settings/tutorial")),{hasSeenMap:!0},{merge:!0})}catch(e){console.error("Error saving tutorial state:",e)}}},g=[{title:"Live Classroom Display",description:"Welcome to mission control. This screen is designed to be projected on your classroom TV or smartboard. It shows realtime ship positions and mission status."},{title:"Realtime Awards",description:(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("p",{children:"Put this on the big screen and keep it running!"}),(0,i.jsxs)("div",{className:"flex items-start gap-3 bg-black/40 p-3 rounded-lg border border-cyan-500/30",children:[(0,i.jsx)(l.Z,{size:24,className:"text-yellow-400 mt-1 shrink-0"}),(0,i.jsxs)("p",{className:"text-xs text-cyan-200",children:["When you award points from your mobile phone or tablet, a ",(0,i.jsx)("strong",{children:"giant animated notification"})," will instantly pop up right here for the whole class to applaud."]})]})]})},{title:"Fleet Grid View",description:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("p",{children:"Want to see everyone at once?"}),(0,i.jsxs)("p",{children:["Click this toggle to switch to a ",(0,i.jsx)("strong",{children:"Manifest Grid"})," view. It shows every student's rank, fuel, and current location in a clean list."]})]}),targetId:"map-btn-grid"},{title:"Manual Override",description:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("p",{children:"Need to move a ship manually?"}),(0,i.jsxs)("p",{children:["Use the ",(0,i.jsx)("strong",{children:"Fleet Command"})," tool to take control of any student's ship and warp them to a specific planet if they get stuck or need help."]})]}),targetId:"map-btn-command"}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>{a(0),s(!0)},className:"fixed bottom-4 left-4 z-[100] bg-white/10 hover:bg-white/20 text-white/50 hover:text-white p-2 px-4 text-xs rounded-full backdrop-blur-sm transition-all border border-white/5 font-bold uppercase tracking-wider",children:"Map Guide"}),(0,i.jsx)(u.M,{children:t&&(0,i.jsxs)("div",{className:"fixed inset-0 z-[200] overflow-hidden pointer-events-none",children:[o?(0,i.jsxs)(x.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[190]",style:{pointerEvents:"auto"},children:[(0,i.jsx)("div",{className:"absolute transition-all duration-75 ease-out box-content border-black/80",style:{top:o.top,left:o.left,width:o.width,height:o.height,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)",borderRadius:"12px"}}),(0,i.jsx)("div",{className:"absolute border-2 border-cyan-400 rounded-xl animate-pulse transition-all duration-75 ease-out",style:{top:o.top-4,left:o.left-4,width:o.width+8,height:o.height+8}})]}):(0,i.jsx)(x.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-[190]",onClick:()=>s(!1),style:{pointerEvents:"auto"}}),(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-[200] pointer-events-none",children:(0,i.jsxs)(x.E.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0,...(()=>{if(!o)return{};if(window.innerWidth<768)return{position:"fixed",left:"50%",bottom:"24px",transform:"translateX(-50%)",width:"calc(100% - 32px)",maxWidth:"400px",margin:0,zIndex:200};let e=o.top<window.innerHeight/2,t=o.left+o.width/2-192;t=Math.max(20,Math.min(t,window.innerWidth-384-20));let s=window.innerHeight-(o.bottom+24)-20,i=o.top-24-20,n=0,a="auto",r="auto";return e?(a=o.bottom+24,n=s):(r=window.innerHeight-o.top+24,n=i),n<250&&(e&&i>s?(a="auto",r=window.innerHeight-o.top+24,n=i):!e&&s>i&&(r="auto",a=o.bottom+24,n=s)),{position:"absolute",left:t,top:a,bottom:r,width:"".concat(384,"px"),maxHeight:"".concat(Math.max(200,n),"px"),transform:"none",zIndex:200,display:"flex",flexDirection:"column"}})()},transition:{type:"spring",duration:.5},className:"bg-slate-900 text-slate-100 w-full max-w-sm rounded-2xl shadow-[0_0_50px_rgba(0,0,0,0.5)] border border-slate-700 relative overflow-hidden pointer-events-auto mx-4 flex flex-col",style:o?{margin:0}:{},children:[(0,i.jsxs)("div",{className:"bg-slate-950 p-4 border-b border-slate-800 flex justify-between items-center shrink-0",children:[(0,i.jsxs)("h3",{className:"font-bold text-cyan-400 uppercase tracking-widest text-sm",children:[n+1," / ",g.length]}),(0,i.jsx)("button",{onClick:()=>w(),className:"text-slate-500 hover:text-white",children:(0,i.jsx)(c.Z,{size:16})})]}),(0,i.jsxs)("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4 text-white",children:g[n].title}),(0,i.jsx)("div",{className:"text-slate-400 text-sm leading-relaxed mb-6",children:g[n].description}),(0,i.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,i.jsx)("button",{onClick:()=>{n>0&&a(e=>e-1)},className:"text-slate-500 hover:text-white text-sm ".concat(0===n?"invisible":""),children:"Back"}),(0,i.jsxs)("button",{onClick:()=>{n<g.length-1?a(e=>e+1):w()},className:"bg-cyan-600 hover:bg-cyan-500 text-white px-5 py-2 rounded-lg font-bold flex items-center gap-2 transition-all shadow-lg hover:shadow-cyan-500/20",children:[n===g.length-1?"Finish":"Next",n===g.length-1?(0,i.jsx)(d.Z,{size:16}):(0,i.jsx)(h.Z,{size:16})]})]})]})]})})]})})]})}function w(){return(0,i.jsxs)("div",{className:"w-screen h-screen bg-black relative overflow-hidden",children:[(0,i.jsx)(f,{}),(0,i.jsx)("div",{className:"absolute inset-0 z-0",children:(0,i.jsx)(n.Z,{})}),(0,i.jsx)("div",{className:"absolute bottom-4 right-4 z-10 pointer-events-none opacity-30",children:(0,i.jsx)("h1",{className:"text-white font-mono text-xs tracking-widest uppercase",children:"Classroom Sensor Feed // Live"})}),(0,i.jsxs)(a.default,{href:"/teacher",className:"absolute top-6 left-6 z-50 bg-black/20 hover:bg-black/80 border border-white/10 hover:border-cyan-500 text-white/50 hover:text-cyan-400 px-6 py-3 rounded-full backdrop-blur-sm flex items-center gap-3 transition-all group",children:[(0,i.jsx)(o.Z,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),(0,i.jsx)("span",{className:"font-bold tracking-widest uppercase text-sm",children:"Cockpit"})]})]})}},3879:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7805:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},2235:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[358,38,911,250,55,176,962,971,69,744],function(){return e(e.s=86)}),_N_E=e.O()}]);