(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[715],{8342:function(e,a,t){Promise.resolve().then(t.bind(t,8831))},8831:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return f}});var s=t(3827),n=t(9102),i=t.n(n),r=t(4090),l=t(8121),c=t(4499),d=t(6678),o=t(5802),u=t(1657),g=t(3879),m=t(3915),p=t(1213),h=t(9496),x=t(7326),b=t(8792);let v=[{id:"1",name:"Space Cadet",minXP:0,image:(0,u.K)("/images/badges/cadet.png")},{id:"2",name:"Rookie Pilot",minXP:100,image:(0,u.K)("/images/badges/RookiePilot.png")},{id:"3",name:"Star Scout",minXP:300,image:(0,u.K)("/images/badges/StarScout.png")},{id:"4",name:"Nebula Navigator",minXP:600,image:(0,u.K)("/images/badges/NebulaNavigator.png")},{id:"5",name:"Solar Specialist",minXP:1e3,image:(0,u.K)("/images/badges/SolarSpecialist.png")},{id:"6",name:"Comet Captain",minXP:1500,image:(0,u.K)("/images/badges/CometCaptain.png")},{id:"7",name:"Galaxy Guardian",minXP:2200,image:(0,u.K)("/images/badges/GalaxyGuardian.png")},{id:"8",name:"Cosmic Commander",minXP:3e3,image:(0,u.K)("/images/badges/CosmicCommander.png")},{id:"9",name:"Void Admiral",minXP:4e3,image:(0,u.K)("/images/badges/VoidAdmiral.png")},{id:"10",name:"Grand Star Admiral",minXP:5e3,image:(0,u.K)("/images/badges/GrandStarAdmiral.png")}];function f(){let{user:e}=(0,d.useAuth)(),[a,t]=(0,r.useState)([]),[n,u]=(0,r.useState)(v),[f,y]=(0,r.useState)(!0),[j,w]=(0,r.useState)("avatars"),[k,N]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if(!e)return;y(!0);let a=async()=>{let a=(0,l.IO)((0,l.hJ)(c.db,"users"),(0,l.ar)("role","==","student"),(0,l.ar)("teacherId","==",e.uid)),s=(await (0,l.PL)(a)).docs.map(e=>({uid:e.id,...e.data()}));s.sort((e,a)=>(e.displayName||"").localeCompare(a.displayName||"")),t(s)},s=(0,l.cf)((0,l.JU)(c.db,"game-config","ranks"),e=>{e.exists()&&e.data().list&&u(e.data().list)});return Promise.all([a()]).then(()=>y(!1)),()=>s()},[e]),f)?(0,s.jsx)("div",{className:"min-h-screen bg-black text-cyan-500 flex items-center justify-center font-mono",children:"Loading Print Systems..."}):(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 min-h-screen bg-gray-50 text-black font-sans",children:[(0,s.jsx)("div",{className:"jsx-448dc41e18021001 print:hidden bg-space-950 text-white p-6 border-b border-cyan-900 sticky top-0 z-50 shadow-xl",children:(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 flex items-center gap-4",children:[(0,s.jsx)(b.default,{href:"/teacher",className:"p-2 rounded-lg border border-white/10 hover:bg-white/10 text-white/50 hover:text-white transition-colors",children:(0,s.jsx)(g.Z,{size:20})}),(0,s.jsxs)("div",{className:"jsx-448dc41e18021001",children:[(0,s.jsxs)("h1",{className:"jsx-448dc41e18021001 text-2xl font-bold uppercase tracking-widest flex items-center gap-3",children:[(0,s.jsx)(m.Z,{className:"text-cyan-400"}),"Print Visuals"]}),(0,s.jsx)("p",{className:"jsx-448dc41e18021001 text-cyan-500/50 text-xs uppercase tracking-wider",children:"System Ready"})]})]}),(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 flex bg-black/50 p-1 rounded-xl border border-white/10",children:[(0,s.jsxs)("button",{onClick:()=>{w("avatars"),N(null)},className:"jsx-448dc41e18021001 "+"px-4 py-2 rounded-lg text-sm font-bold uppercase tracking-wider flex items-center gap-2 transition-all ".concat("avatars"===j?"bg-cyan-600 text-white shadow-lg":"text-gray-400 hover:text-white"),children:[(0,s.jsx)(p.Z,{size:16})," Student Cards"]}),(0,s.jsx)("div",{className:"jsx-448dc41e18021001 w-px bg-white/10 my-2 mx-1"}),(0,s.jsxs)("button",{onClick:()=>{w("badges"),N(null)},className:"jsx-448dc41e18021001 "+"px-4 py-2 rounded-lg text-sm font-bold uppercase tracking-wider flex items-center gap-2 transition-all ".concat("badges"===j||"reference"===j?"bg-yellow-600 text-white shadow-lg":"text-gray-400 hover:text-white"),children:[(0,s.jsx)(h.Z,{size:16})," Rank Badges"]})]}),(0,s.jsxs)("button",{onClick:()=>window.print(),className:"jsx-448dc41e18021001 bg-white text-black px-6 py-3 rounded-xl font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-[0_0_15px_rgba(255,255,255,0.3)] flex items-center gap-2",children:[(0,s.jsx)(m.Z,{size:18})," Print Now"]})]})}),(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 max-w-[8.5in] mx-auto bg-white min-h-screen shadow-2xl print:shadow-none print:w-full",children:["avatars"===j&&(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 p-8",children:[0===a.length&&(0,s.jsx)("div",{className:"jsx-448dc41e18021001 text-center p-10 text-gray-400",children:"No students found. Add students to your roster first."}),((e,a)=>{let t=[];for(let s=0;s<e.length;s+=a)t.push(e.slice(s,s+a));return t})(a,6).map((e,a)=>(0,s.jsx)("div",{className:"jsx-448dc41e18021001 break-after-page page-break-always grid grid-cols-2 gap-4 auto-rows-fr",children:e.map(e=>(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 border-4 border-gray-900 rounded-2xl p-6 flex items-center gap-6 break-inside-avoid relative overflow-hidden h-[3.5in]",children:[(0,s.jsx)("div",{className:"jsx-448dc41e18021001 absolute -right-10 -bottom-10 text-gray-100 opacity-50",children:(0,s.jsx)(x.Z,{size:200})}),(0,s.jsx)("div",{className:"jsx-448dc41e18021001 w-32 h-32 shrink-0 rounded-full border-4 border-gray-200 overflow-hidden bg-gray-50 relative z-10",children:(0,s.jsx)(o.Yt,{userData:e,className:"w-full h-full"})}),(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 z-10 flex-1",children:[(0,s.jsx)("div",{className:"jsx-448dc41e18021001 text-xs text-gray-400 uppercase tracking-widest font-bold mb-1",children:"Cadet Name"}),(0,s.jsx)("h2",{className:"jsx-448dc41e18021001 text-2xl font-black text-black uppercase tracking-tight leading-none mb-4",children:e.displayName}),(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 border-2 border-dashed border-gray-300 rounded-lg p-2 flex items-center gap-2 bg-gray-50/50",children:[(0,s.jsx)("div",{className:"jsx-448dc41e18021001 w-10 h-10 rounded-full border border-gray-200 bg-white flex items-center justify-center text-gray-200",children:(0,s.jsx)(h.Z,{size:20})}),(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 text-[10px] text-gray-400 uppercase tracking-wider font-bold",children:["Current Rank",(0,s.jsx)("br",{className:"jsx-448dc41e18021001"}),"Badge Holder"]})]})]})]},e.uid))},a))]}),("badges"===j||"reference"===j)&&(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 p-8",children:[(0,s.jsx)("div",{className:"jsx-448dc41e18021001 print:hidden mb-8 grid grid-cols-2 md:grid-cols-5 gap-4",children:n.map(e=>(0,s.jsxs)("button",{onClick:()=>N(e),className:"jsx-448dc41e18021001 "+"p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ".concat((null==k?void 0:k.id)===e.id?"bg-yellow-50 border-yellow-500 ring-2 ring-yellow-500/20":"bg-white border-gray-200 hover:border-gray-400"),children:[(0,s.jsx)("img",{src:e.image,alt:e.name,className:"jsx-448dc41e18021001 w-12 h-12 object-contain"}),(0,s.jsx)("span",{className:"jsx-448dc41e18021001 text-xs uppercase font-bold text-gray-600",children:e.name})]},e.id))}),k?(0,s.jsx)("div",{className:"grid grid-cols-3 gap-8 content-start h-[9.5in] p-8",children:[...Array(12)].map((e,a)=>(0,s.jsxs)("div",{className:"border border-gray-300 border-dashed rounded-xl p-6 flex flex-col items-center justify-center gap-4 break-inside-avoid h-[2.8in]",children:[(0,s.jsx)("img",{src:k.image,alt:k.name,className:"w-32 h-32 object-contain drop-shadow-lg"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-xl font-bold uppercase tracking-widest text-black",children:k.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500 font-mono tracking-wider",children:"OFFICIAL RANK ACCREDITATION"})]})]},a))}):(0,s.jsxs)("div",{className:"jsx-448dc41e18021001 text-center p-10 border-2 border-dashed border-gray-200 rounded-xl",children:[(0,s.jsx)(x.Z,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,s.jsx)("h3",{className:"jsx-448dc41e18021001 text-xl font-bold text-gray-400",children:"Select a Rank Badge above to generate a full printable sheet."}),(0,s.jsx)("p",{className:"jsx-448dc41e18021001 text-gray-400 mt-2",children:"Print these sheets on cardstock or sticker paper for your students."})]})]})]}),(0,s.jsx)(i(),{id:"448dc41e18021001",children:"@media print{@page{margin:.5cm}body{background:white}.print\\\\:hidden{display:none!important}.page-break-always{page-break-after:always}.break-inside-avoid{-webkit-column-break-inside:avoid;page-break-inside:avoid;break-inside:avoid}}"})]})}},5802:function(e,a,t){"use strict";t.d(a,{Cn:function(){return l},Ic:function(){return r},W$:function(){return i},Yt:function(){return c}});var s=t(3827),n=t(1657);let i=[{id:"bunny",name:"Space Bunny",src:"/images/avatar/spacebunny.png"},{id:"cat",name:"Cosmic Cat",src:"/images/avatar/spacecat.png"},{id:"raccoon",name:"Rocket Raccoon",src:"/images/avatar/spaceraccoon.png"},{id:"otter",name:"Orbit Otter",src:"/images/avatar/spaceotter.png"},{id:"pup",name:"Pluto Pup",src:"/images/avatar/spacepup.png"},{id:"hamster",name:"Hyper Hamster",src:"/images/avatar/spacehamster.png"},{id:"owl",name:"Omega Owl",src:"/images/avatar/spaceowl.png"},{id:"penguin",name:"Power Penguin",src:"/images/avatar/spacepenguin.png"},{id:"turtle",name:"Turbo Turtle",src:"/images/avatar/spaceturtle.png"}],r=[{id:"p1",name:"Cadet Blue",config:{hue:0,skinHue:200,bgHue:240,bgSat:60,bgLight:50,activeHat:"none",avatarId:"bunny"}},{id:"p2",name:"Crimson Guard",config:{hue:350,skinHue:0,bgHue:0,bgSat:70,bgLight:40,activeHat:"none",avatarId:"cat"}},{id:"p3",name:"Forest Ranger",config:{hue:120,skinHue:100,bgHue:120,bgSat:50,bgLight:60,activeHat:"none",avatarId:"raccoon"}},{id:"p4",name:"Solar Pilot",config:{hue:45,skinHue:60,bgHue:40,bgSat:90,bgLight:70,activeHat:"none",avatarId:"otter"}},{id:"p5",name:"Void Walker",config:{hue:270,skinHue:260,bgHue:280,bgSat:40,bgLight:20,activeHat:"none",avatarId:"pup"}},{id:"p6",name:"Neon Scout",config:{hue:180,skinHue:300,bgHue:320,bgSat:100,bgLight:50,activeHat:"none",avatarId:"cat"}},{id:"p7",name:"Rusty Mechanic",config:{hue:25,skinHue:30,bgHue:15,bgSat:50,bgLight:40,activeHat:"none",avatarId:"raccoon"}},{id:"p8",name:"Ice Specialist",config:{hue:190,skinHue:180,bgHue:200,bgSat:70,bgLight:90,activeHat:"none",avatarId:"bunny"}}],l=[{id:"none",name:"No Hat",src:"",style:""},{id:"hat1",name:"Helmet",src:"/images/hats/helmet1.png",style:"scale-[2.5] translate-y-[45%]"},{id:"hat2",name:"Fedora",src:"/images/hats/hat2.png",style:"scale-[0.9] -translate-y-[40%]"},{id:"hat3",name:"Top Hat",src:"/images/hats/tophat.png",style:"scale-[0.9] -translate-y-[40%]"},{id:"hat4",name:"Cowboy Hat",src:"/images/hats/cowboyhat.png",style:"scale-[0.9] -translate-y-[40%]"},{id:"hat5",name:"Dungan Doves Cap",src:"/images/hats/dungandoves.png",style:"scale-[0.9] -translate-y-[40%]"}],c=e=>{var a,t,r,c,d,o,u,g,m,p,h,x,b,v,f,y,j;let{userData:w,hue:k,skinHue:N,bgHue:S,bgSat:C,bgLight:H,hat:I,avatarId:P,className:A=""}=e,L=null!==(m=null!=k?k:null==w?void 0:null===(a=w.avatar)||void 0===a?void 0:a.hue)&&void 0!==m?m:0,R=null!==(p=null!=N?N:null==w?void 0:null===(t=w.avatar)||void 0===t?void 0:t.skinHue)&&void 0!==p?p:0,K=null!==(h=null!=S?S:null==w?void 0:null===(r=w.avatar)||void 0===r?void 0:r.bgHue)&&void 0!==h?h:260,Z=null!==(x=null!=C?C:null==w?void 0:null===(c=w.avatar)||void 0===c?void 0:c.bgSat)&&void 0!==x?x:50,z=null!==(b=null!=H?H:null==w?void 0:null===(d=w.avatar)||void 0===d?void 0:d.bgLight)&&void 0!==b?b:20,O=null!==(v=null!=P?P:null==w?void 0:null===(o=w.avatar)||void 0===o?void 0:o.avatarId)&&void 0!==v?v:"bunny",X=i.find(e=>e.id===O)||i[0],F=(null==X?void 0:X.src)||"/images/avatar/spacebunny.png",G=null!==(j=null!==(y=null!==(f=null!=I?I:null==w?void 0:w.activeHat)&&void 0!==f?f:null==w?void 0:null===(u=w.avatar)||void 0===u?void 0:u.activeHat)&&void 0!==y?y:null==w?void 0:null===(g=w.avatar)||void 0===g?void 0:g.hat)&&void 0!==j?j:"none",B=l.find(e=>e.id===G),D=null==B?void 0:B.src,E=(null==B?void 0:B.style)||"scale-100";return(0,s.jsxs)("div",{className:"relative ".concat(A),style:{backgroundColor:"hsl(".concat(K,", ").concat(Z,"%, ").concat(z,"%)")},children:[(0,s.jsx)("div",{className:"absolute inset-0 z-0",style:{backgroundColor:"hsl(".concat(R,", 70%, 50%)"),maskImage:"url(".concat((0,n.K)(F),")"),WebkitMaskImage:"url(".concat((0,n.K)(F),")"),maskSize:"cover"}}),(0,s.jsx)("img",{src:(0,n.K)(F),alt:"Avatar",className:"w-full h-full object-cover relative z-10",style:{filter:"hue-rotate(".concat(L,"deg)")}}),D&&(0,s.jsx)("img",{src:(0,n.K)(D),alt:"Accessory",className:"absolute inset-0 z-20 w-full h-full object-cover pointer-events-none transition-transform ".concat(E),onError:e=>console.error("Error loading hat:",D,(0,n.K)(D))})]})}},6678:function(e,a,t){"use strict";t.r(a),t.d(a,{AuthProvider:function(){return u},useAuth:function(){return g}});var s=t(3827),n=t(4090),i=t(7065),r=t(8121),l=t(4499),c=t(7907),d=t(1657);let o=(0,n.createContext)({});function u(e){let{children:a}=e,[t,u]=(0,n.useState)(null),[g,m]=(0,n.useState)(null),[p,h]=(0,n.useState)(!0),x=(0,c.useRouter)();(0,n.useEffect)(()=>{let e=(0,i.Aj)(l.I8,async e=>{if(u(e),e)try{let t=(0,r.JU)(l.db,"users",e.uid),s=await (0,r.QT)(t);if(s.exists()){let a=s.data(),n="andrewpcarlson85@gmail.com"===e.email,i={};if(n&&"teacher"!==a.role&&(console.log("Fixing Admin Role for Legacy User"),a.role="teacher",i.role="teacher"),"teacher"===a.role&&!a.classCode){console.log("Generating Class Code for existing teacher");let e=(0,d.a)();a.classCode=e,i.classCode=e}if(Object.keys(i).length>0)try{await (0,r.pl)(t,i,{merge:!0})}catch(e){console.warn("Could not update user profile in DB",e)}m(a)}else{var a;e.email;let s={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,role:"teacher",classCode:(0,d.a)(),status:"active",subscriptionStatus:"trial",schoolName:"",location:"earth",spaceship:{name:"SS "+((null===(a=e.displayName)||void 0===a?void 0:a.split(" ")[0])||"Voyager"),color:"text-blue-400",type:"scout",speed:1}};await (0,r.pl)(t,s),m(s)}}catch(a){console.error("Error fetching user data",a),"andrewpcarlson85@gmail.com"===e.email&&(console.log("Using Fallback Admin Profile due to DB error"),m({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,role:"teacher",status:"active",location:"earth",xp:9999,spaceship:{name:"SS Command (Fallback)",color:"text-yellow-400",type:"fighter",speed:2}}))}else m(null);h(!1)});return()=>e()},[]);let b=async()=>{try{await (0,i.rh)(l.I8,l.Vv)}catch(e){console.error("Login failed",e)}},v=async(e,a)=>{try{await (0,i.e5)(l.I8,e,a)}catch(e){throw console.error("Student Login Failed",e),e}},f=async()=>{await (0,i.w7)(l.I8),m(null),x.push("/")};return(0,s.jsx)(o.Provider,{value:{user:t,userData:g,loading:p,signInWithGoogle:b,signInStudent:v,logout:f},children:a})}let g=()=>(0,n.useContext)(o)},4499:function(e,a,t){"use strict";t.d(a,{I8:function(){return o},Vv:function(){return u},db:function(){return d},qe:function(){return l}});var s=t(6142),n=t(8121),i=t(7065),r=t(3493);let l={apiKey:"AIzaSyDVHiiCHkP-RFOI26cIrD_OijLnw1r3B8Q",authDomain:"spaceadventure-7d540.firebaseapp.com",projectId:"spaceadventure-7d540",storageBucket:"spaceadventure-7d540.firebasestorage.app",messagingSenderId:"546441300465",appId:"1:546441300465:web:28ae387d2bdbb8011a1c50",measurementId:"G-8R9PYL00XH"},c=(0,s.C6)().length>0?(0,s.Mq)():(0,s.ZF)(l),d=(0,n.ad)(c),o=(0,i.v0)(c),u=new i.hJ;(0,r.Gb)().then(e=>{e&&(0,r.IH)(c)})},1657:function(e,a,t){"use strict";t.d(a,{K:function(){return s},a:function(){return n}});let s=e=>{let a=e.startsWith("/")?e:"/".concat(e);return window.location.hostname.includes("github.io")?"https://shootyq.github.io/SpaceAdventure".concat(a):"".concat("").concat(a)},n=()=>{let e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",a="";for(let t=0;t<6;t++)a+=e.charAt(Math.floor(Math.random()*e.length));return a}},9496:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},7326:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},1213:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[358,38,911,250,672,971,69,744],function(){return e(e.s=8342)}),_N_E=e.O()}]);